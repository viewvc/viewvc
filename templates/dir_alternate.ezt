<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN"
 "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><head>
<!-- ViewCVS       -- http://viewcvs.sourceforge.net/
     by Greg Stein -- mailto:gstein@lyra.org
  -->
<title>[if-any where][where][else][cfg.general.main_title][end]</title>
</head>
<body text="#000000" bgcolor="#ffffff">
<table width="100%" border=0 cellspacing=0 cellpadding=0>
  <tr>
    <td rowspan=2><h1>[if-any where][where][else][cfg.general.main_title][end]</h1></td>
    <td align=right><img src="/icons/apache_pb.gif" alt="(logo)" border=0
			width=259 height=32></td>
  </tr>
  <tr>
    <td align=right><h3><b><a target="_blank"
href="[request.script_name]/*docroot*/help_[if-any where]dir[else]root[end]view.html">ViewCVS and CVS Help</a></b></h3></td>
  </tr>
</table>

[if-any where][else]
  <!-- you may insert repository access instructions here -->

  [if-any roots]
    <h3>Project Root</h3>
    <form method=GET action="./">
      <select name=cvsroot onchange="submit()">
      [for roots]
        [is roots current_root]
          <option selected>[roots]</option>
        [else]
          <option>[roots]</option>
        [end]
      [end]
      </select>
      <input type=submit value="Go">
    </form>
  [end]
[end]

<p><a name="dirlist"></a></p>

[if-any where]
<table>
<tr><td>Current directory:</td><td><b>[nav_path]</b></td></tr>
[if-any view_tag]
<tr><td>Current tag:</td><td><b>[view_tag]</b></td></tr>
[end]
[if-any search_re]
<tr><td>Current search:</td><td><b>[search_re]</b></td></tr>
[end]
[is num_files "0"]
[else]
<tr><td>Files shown:</td><td><b>[files_shown]</b></td></tr>
[end]
</table>
[end]

<hr noshade>

[# if you want a colored border around the table of directory
   information, then add this additional table tag:

   <table border=0 cellpadding=0 width="100%"><tr>
     <td bgcolor="#999999">
]


<table width="100%" border=0 cellspacing=1 cellpadding=2>
<tr>
[if-any have_logs]
  [is sortby "rev"]
    <th align=left bgcolor="#88ff88">Rev.</th>
  [else]
    <th align=left bgcolor="#cccccc"
      ><a href="./[sortby_rev_href]"#dirlist>Rev.</a></th>
  [end]
  [is sortby "file"]
    <th align=left bgcolor="#88ff88"
      [is cfg.options.use_cvsgraph "1"]colspan=2[end]
      >File</th>
  [else]
    <th align=left bgcolor="#cccccc"
      [is cfg.options.use_cvsgraph "1"]colspan=2[end]
      ><a href="./[sortby_file_href]#dirlist">File</a></th>
  [end]
  [is sortby "date"]
    <th align=left bgcolor="#88ff88">Age</th>
  [else]
    <th align=left bgcolor="#cccccc"
      ><a href="./[sortby_date_href]#dirlist">Age</a></th>
  [end]
  [is sortby "author"]
    <th align=left bgcolor="#88ff88">Author</th>
  [else]
    <th align=left bgcolor="#cccccc"
      ><a href="./[sortby_author_href]#dirlist">Author</a></th>
  [end]
  [is sortby "log"]
    <th align=left bgcolor="#88ff88">Last log entry</th>
  [else]
    <th align=left bgcolor="#cccccc"
      ><a href="./[sortby_log_href]#dirlist">Last log entry</a></th>
  [end]
[else]
  <th align=left bgcolor="#cccccc">File</th>
[end]
</tr>

[for rows]
  <tr bgcolor="[if-index rows even]#ffffff[else]#ccccee[end]">
  [is rows.type "unreadable"]
    [if-any have_logs]
      <td>&nbsp;</td> [# revision ]
    [end]
    <td><a name="[rows.anchor]">[rows.name]</a>
      [if-any have_logs]
        </td>
        <td colspan=[is cfg.options.use_cvsgraph "1"]4[else]3[end]>
          <i>this entry is unreadable</i>
        </td>
      [else]
      - <i>this entry is unreadable</i>
      [end]
    </td>
  [else]
    [is rows.type "dir"]
      [if-any have_logs]
        <td>&nbsp;</td> [# revision ]
      [end]
      <td [if-any have_logs][is cfg.options.use_cvsgraph "1"]colspan=2[end][end]>
        <a name="[rows.anchor]" href="[rows.href]">
        <img src="/icons/small/dir.gif" alt="(dir)" border=0 width=16 height=16>
        [rows.name]
        </a>
        [is rows.name "Attic/"]
          &nbsp; <a href="./[show_attic_href]#dirlist">[[]show contents]</a>
        [end]
      </td>
      [is rows.cvs "error"]
        [# for an error to occur, we must have some logs. always use colspan]
        <td colspan=3>
          <i>Last modification unavailable - could not read CVS information</i>
        </td>
      [else]
      [if-any have_logs]
        [is rows.cvs "none"]
          <td>&nbsp;</td> [# age ]
          <td>&nbsp;</td> [# author ]
          <td>&nbsp;</td> [# log ]
        [else]
          <td>&nbsp;[rows.time]</td>
          [if-any rows.author]
            <td>&nbsp;[rows.author]</td>
          [end]
          [if-any rows.show_log]
            <td>&nbsp;[rows.log_file]/[rows.log_rev]<br>
              &nbsp;<font size="-1">[rows.log]</font></td>
          [end]
        [end]
      [end]
      [end]
          
    [else]
      [is rows.cvs "error"]
        <td>&nbsp;</td>
        <td [is cfg.options.use_cvsgraph "1"]colspan=2[end]>
          <a name="[rows.anchor]">[rows.name]</a>
        </td>
        <td colspan=3><i>CVS information is unreadable</i></td>
      [else]
        <td>&nbsp;<a href="[rows.href]"><b>[rows.rev]</b></a></td>
        <td width="1%"><a name="[rows.anchor]" href="[rows.rev_href]&content-type=text/vnd.viewcvs-markup">
[# to display the revision in a separate window, you could use:

   <a name="{rows.anchor}" href="{rows.rev_href}" target="cvs_checkout"
      onClick="window.open('{rows.rev_href}', 'cvs_checkout',
                           'resizeable=1,scrollbars=1')"><b>{rows.rev}</b></a>

   (substitute brackets for the braces)
]
            <img src="/icons/small/text.gif" alt="(file)" border=0
                 width=16 height=16>
            [rows.name]
            </a>
            [is rows.state "dead"]
              [# don't let this phrase/link be wrapped ]
              [if-any view_tag](not&nbsp;exist)[else](in&nbsp;the&nbsp;Attic)[end]&nbsp;<a href="./[hide_attic_href]#dirlist">[[]hide]</a>
            [end]
        </td>
        [if-any rows.graph_href]
          <td width="1%"><a href="[rows.graph_href]"><img
            src="[request.script_name]/*docroot*/images/cvsgraph_16x16.png"
            alt="(graph)" width=16 height=16 border=0>
          </a></td>
        [end]

        <td>&nbsp;[rows.time]</td>
        [if-any rows.author]
          <td>&nbsp;[rows.author]</td>
        [end]
        [if-any rows.show_log]
          <td>&nbsp;[rows.log]</td>
        [end]
      [end]
    [end]
  [end]
  </tr>
[end]

</table>

[# if you are using a table border (see above), then add:

   </td></tr></table>
]

[if-any no_match]
  <p><b>NOTE:</b> There are [num_files] files, but none match the
  current selection criteria.
[end]

[if-any unreadable]
  <hr size=1 noshade>
  <b>NOTE:</b> One or more files were unreadable. The files in the CVS
  repository should be readable by the web server process. Please
  report this condition to the administrator of this CVS repository.
[end]

[if-any selection_form]
  <hr size=1 noshade>

  [# this table holds the selectors on the left, and reset on the right ]
  <table><tr><td>

  <form method=GET action="./">
  [for params]
    <input type=hidden name="[params.name]" value="[params.value]">
  [end]

  <table>
  [if-any has_tags]
  <tr>
    <td>Show files using tag:</td>
    <td>
  <select name=only_with_tag onchange="submit()">
    [if-any branch_tags]
      <option value="">- Branches -</option>
      [for branch_tags]
        [is branch_tags view_tag]
          <option selected>[branch_tags]</option>
        [else]
          <option>[branch_tags]</option>
        [end]
      [end]
    [end]
    <option value="">- Non-branch tags -</option>
    [for plain_tags]
      [is plain_tags view_tag]
        <option selected>[plain_tags]</option>
      [else]
        <option>[plain_tags]</option>
      [end]
    [end]
  </select></td>
  </tr>
  [end]

  [is cfg.options.use_re_search "1"]
  <tr>
    <td>Show files containing the regular expression:</td>
    <td><input type="text" name="search" value="[search_re]">
  </tr>
  [end]

  <tr><td>&nbsp;</td><td><input type="submit" value="Show"></td></tr>
  </table>
  </form>

  </td>

  [if-any view_tag]
    <td valign=bottom><form method=GET action="./">
      [for params]
        <input type=hidden name="[params.name]" value="[params.value]">
      [end]
      <input type="submit" value="Show all files">
    </form></td>
  [else][if-any search_re]
    <td valign=bottom><form method=GET action="./">
      [for params]
        <input type=hidden name="[params.name]" value="[params.value]">
      [end]
      <input type="submit" value="Show all files">
    </form></td>
  [end][end]

  </tr></table>
[end]

[# if you want to disable tarball generation remove the following: ]
[if-any tarball_href]
  <a href="[tarball_href]">Download tarball</a>
[end]

[include "footer.ezt"]
